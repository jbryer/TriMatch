[{"path":"/articles/TriMatch.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Propensity Score Matching with Three Groups","text":"Consider two treatments, Tr1Tr_1 Tr2Tr_2, control, CC. estimate propensity scores three separate logistic regression models model one predicts Tr1Tr_1 CC, model two predicts Tr2Tr_2 CC, model three predicts Tr1Tr_1 Tr2Tr_2. triangle plot Figure @ref(fig:triangleplot) depicts fitted values (.e. propensity scores) three models edge triangle. Since unit propensity score two three models, scores connected. can calculate three distances propensity scores possible matched triplet using three models. Given distances, matched triplets smallest standardized distance (.e. Dx,y=|PSx−PSy|sd(PS)D_{x,y} = \\frac{| PS_{x} - PS_{y} |}{sd(PS)}) retained. Several methods determining matched triplets retain provided possibility researcher implement . black lines Figure @ref(fig:triangleplot) represent one matched triplet (.e. one row returned data frame). Propensity score analysis two groups typically use dependent sample t-tests (Austin 2010). analogue matched triplets include repeated measures ANOVA Freidman Rank Sum Test. TriMatch package provides utility functions conducting visualizing statistical tests. Moreover, set functions extending PSAgraphics (Helmreich Pruzek 2009) matched triplets check covariate balance provided.","code":""},{"path":"/articles/TriMatch.html","id":"the-trimatch-algorithm","dir":"Articles","previous_headings":"Introduction","what":"The TriMatch Algorithm","title":"Propensity Score Matching with Three Groups","text":"trips trimatch functions used estimate propensity scores find best matched triplets, respectively. . Propensity scores estimated three models using logistic regression. PS1=e(xT1C)=Pr(z=1|XT1C){ PS }_{ 1 }=e({ x }_{ { T }_{ 1 }C })=Pr(z=1|{ X }_{ { T }_{ 1 }C })PS2=e(xT2C)=Pr(z=1|XT2C){ PS }_{ 2 }=e({ x }_{ { T }_{ 2 }C })=Pr(z=1|{ X}_{ { T }_{ 2 }C })PS3=e(xT2T1)=Pr(z=1|XT2T1){ PS }_{ 3 }=e({ x }_{ { T }_{ 2 }{ T }_{ 1 } })=Pr(z=1|{ X }_{ { T }_{ 2 }{ T }_{ 1 } }) B. Match order determined. default start larger two treatments, followed second treatment, lastly control group. However, match order configurable vis-`{}-vis match.order parameter. C. Three distance matrices calculated, D1D_1, D2D_2, D3D_3 corresponding propensity scores estimated step @ref(item:ps). , D1D_1 nTr1n_{Tr_1} x nTr2n_{Tr_2} matrix D1[x,y]D_1[x,y] standardized distance PS1[x]PS_1[x] PS1[y]PS_1[y]. D. Distances greater caliper, 0.25 default recommended , eliminated. caliper specified standard units 0.25 corresponds one-quarter one standard deviation. E. partial exact matching desired, three logical matrices created dimensions distance matrices calculated step @ref(item:distance). , position x,yx,y matrix true covariate(s) match exactly unit xx yy match exactly. Distances exact exact matches eliminated. F. remaining units, possible combinations matched triplets formed total standardized distance calculated. result procedure equivalent caliper matching two group case. , possible matches within specified caliper retained. can achieved specifying method = NULL parameter trimatch function. Two additional methods provided reduce number matched triplets. maximumTreat method attempts reduce number duplicate treatment units. analogous matching without replacement two group case. However, treatment 1 units may matched two different treatment 2 units treatment 2 unit otherwise matched. OneToN method allow user specify exactly many times treatment 1 treatment 2 may reused.","code":""},{"path":"/articles/TriMatch.html","id":"effects-of-tutoring-on-course-grades","dir":"Articles","previous_headings":"","what":"Effects of Tutoring on Course Grades","title":"Propensity Score Matching with Three Groups","text":"first example utilize observational data obtained evaluate effectiveness tutoring services course grades. Treatment students consisted students used tutoring services enrolled online writing course 2008 2011. comparison group identified students enrolled course section student used tutoring services. treatment group divided two based upon number times utilized tutoring services. “Novice” users used services “regular” users used services two times. Covariates available estimating propensity scores gender, ethnicity, military status, English second language learner, educational level mother father, age beginning course, employment level college enrollment, income level college enrollment, number transfer credits, GPA start course. courses represented structured variation section--section minimal. However, differences courses substantial therefore utilize partial exact matching matched students taken course. first step analysis estimate propensity scores. trips function estimate three propensity score models, PS1PS_1, PS2PS_2, PS3PS_3 described . Note specifying formula dependent variable, treatment indicator, included. trips function replace dependent variable estimates three logistic regression models. Figure @ref(fig:triangleplot) triangle plot depicts propensity scores three models. Since student two propensity scores, scores connected line. black line Figure @ref(fig:triangleplot) represents one matched triplet estimated .  default trimatch use maximumTreat method retaining treatment unit treatment one units matched corresponding treatment two unit matched otherwise. Setting method parameter NULL result caliper matching. matched triplets within specified caliper retained. result largest number matched triplets. Lastly, use OneToN method retain 2--1--n 3--2-n matches. Traingle Plot","code":"names(tutoring) #>  [1] \"treat\"      \"Course\"     \"Grade\"      \"Gender\"     \"Ethnicity\"  #>  [6] \"Military\"   \"ESL\"        \"EdMother\"   \"EdFather\"   \"Age\"        #> [11] \"Employment\" \"Income\"     \"Transfer\"   \"GPA\"        \"GradeCode\"  #> [16] \"Level\"      \"ID\" table(tutoring$treat, tutoring$Course, useNA=\"ifany\") #>           #>           ENG*101 ENG*201 HSC*310 #>   Control     349     518      51 #>   Treat1       22      36      76 #>   Treat2       31      32      27 formu <- ~ Gender + Ethnicity + Military + ESL + EdMother + EdFather +  Age + Employment + Income + Transfer + GPA tutoring.tpsa <- trips(tutoring, tutoring$treat, formu) plot(tutoring.tpsa) tutoring.matched <- trimatch(tutoring.tpsa, exact=tutoring[,c(\"Course\")]) tutoring.matched.caliper <- trimatch(tutoring.tpsa,  exact=tutoring[,c(\"Course\")], method=NULL) tutoring.matched.2to1 <- trimatch(tutoring.tpsa,  exact=tutoring[,c(\"Course\")], method=OneToN, M1=2, M2=1) tutoring.matched.3to2 <- trimatch(tutoring.tpsa,  exact=tutoring[,c(\"Course\")],  method=OneToN, M1=3, M2=2) print(plot(tutoring.matched, rows=c(50), line.alpha=1, draw.segments=TRUE))"},{"path":"/articles/TriMatch.html","id":"examining-unmatched-students","dir":"Articles","previous_headings":"Effects of Tutoring on Course Grades","what":"Examining Unmatched Students","title":"Propensity Score Matching with Three Groups","text":"different methods retaining matched triplets address issue overrepresentation treatment units. example four times many control units treatment units (ratio larger considering treatments separately). methods fall spectrum treatment unit used minimally (maximumTreat method) units used (caliper matching). suggests testing hypothesis general recommendation utilize multiple methods. Functions help present compare results multiple methods provided discussed . unmatched function return rows students matched. summary function provide information many students within group matched. shown , caliper matching match students. particular example, fact, substantial difference unmatched students control group. methods fail match 37 treatment one students. due fact another student within specified caliper match exactly course.","code":"summary(unmatched(tutoring.matched)) #> 892 (78.1%) of 1142 total data points were not matched. #> Unmatched by treatment: #>     Control      Treat1      Treat2  #> 834 (90.8%)  39 (29.1%)  19 (21.1%) summary(unmatched(tutoring.matched.caliper)) #> 638 (55.9%) of 1142 total data points were not matched. #> Unmatched by treatment: #>     Control      Treat1      Treat2  #> 580 (63.2%)  39 (29.1%)  19 (21.1%) summary(unmatched(tutoring.matched.2to1)) #> 1000 (87.6%) of 1142 total data points were not matched. #> Unmatched by treatment: #>     Control      Treat1      Treat2  #> 870 (94.8%)  97 (72.4%)  33 (36.7%) summary(unmatched(tutoring.matched.3to2)) #> 928 (81.3%) of 1142 total data points were not matched. #> Unmatched by treatment: #>     Control      Treat1      Treat2  #> 831 (90.5%)    75 (56%)  22 (24.4%)"},{"path":"/articles/TriMatch.html","id":"checking-balance","dir":"Articles","previous_headings":"Effects of Tutoring on Course Grades","what":"Checking Balance","title":"Propensity Score Matching with Three Groups","text":"eventual strength propensity score methods dependent well balance achieved. introduced graphical approaches evaluating balance. provide functions extend framework matching three groups. Figure @ref(fig:multibalance) multiple covariate balance plot plots absolute effect size covariate adjustment. example, figure suggests reasonable balance achieved across covariates across three models since effect sizes smaller unadjusted cases relatively small. Multiple Covariate Balance Plot Absolute Standardized Effect Sizes Propensity Score Adjustment Figure @ref(fig:balance) results balance.plot function. function provide bar chart categorical covariates box plots quantitative covariates, individually grid. Covariate Balance Plots","code":"print(multibalance.plot(tutoring.tpsa) + ggtitle(\"Covariate Balance Plot\")) bplots <- balance.plot(tutoring.matched, tutoring[,all.vars(formu)],          legend.position=\"none\", x.axis.labels=c(\"C\",\"T1\",\"T1\"), x.axis.angle=0) print(plot(bplots, cols=3, byrow=FALSE)) #> NULL"},{"path":"/articles/TriMatch.html","id":"phase-ii-estimating-effects-of-tutoring-on-course-grades","dir":"Articles","previous_headings":"Effects of Tutoring on Course Grades","what":"Phase II: Estimating Effects of Tutoring on Course Grades","title":"Propensity Score Matching with Three Groups","text":"phase two propensity score analysis wish compare outcome interest, course grade example, across matches. custom merge function provided merge outcome original data frame results trimatch. merge function add three columns outcome three groups. Although merge function convenient conducting analysis, summary function perform common analyses including Friedman Rank Sum test repeated measures ANOVA. either tests produce value less specified threshold (0.05 default), summary function also perform return Wilcoxon signed rank test three separate dependent sample -tests . print method accept multiple object returned summary combine single table output. Note parameter must named name used identify row containing results. Boxplot Differences Another useful visualization presenting results Loess plot. Figure @ref(fig:loess) plot propensity scores -axis outcome (grade example) y-axis. Loess regression line overlaid. Since three propensity score scales, plot.loess3 function use propensity scores model predicting treatment one treatment two. Propensity scores control group imputed taking mean propensity scores two treatment units control matched . noted control unit matched two different sets treatment units, control unit two propensity scores. propensity score scale utilized can explicitly specified using model parameter. Loess Plot Caliper Matching","code":"matched.out <- merge(tutoring.matched, tutoring$Grade) names(matched.out) #>  [1] \"Treat1\"      \"Treat2\"      \"Control\"     \"D.m3\"        \"D.m2\"        #>  [6] \"D.m1\"        \"Dtotal\"      \"Treat1.out\"  \"Treat2.out\"  \"Control.out\" head(matched.out) #>   Treat1 Treat2 Control        D.m3        D.m2         D.m1     Dtotal #> 1    368     39     331 0.007053754 0.001788577 1.039322e-02 0.01923555 #> 2    158    279     365 0.003373585 0.009530680 1.071188e-02 0.02361614 #> 3    899    209     100 0.001929173 0.013633300 9.183572e-03 0.02474604 #> 4    692    596    1055 0.023785086 0.010292177 1.862058e-03 0.03593932 #> 5    616    209     208 0.020203398 0.016562521 3.168865e-05 0.03679761 #> 6     28    852     154 0.007501996 0.014214100 1.776640e-02 0.03948249 #>   Treat1.out Treat2.out Control.out #> 1          4          4           0 #> 2          4          4           4 #> 3          4          3           4 #> 4          4          3           4 #> 5          4          3           0 #> 6          4          4           2 s1 <- summary(tutoring.matched, tutoring$Grade) names(s1) #> [1] \"PercentMatched\"       \"friedman.test\"        \"rmanova\"              #> [4] \"pairwise.wilcox.test\" \"t.tests\" s1$friedman.test #>  #>  Friedman rank sum test #>  #> data:  Outcome and Treatment and ID #> Friedman chi-squared = 27.904, df = 2, p-value = 8.726e-07 s1$t.tests #>               Treatments         t  df      p.value sig  mean.diff     ci.min #> 1  Treat1.out-Treat2.out -2.791302 117 6.132601e-03  ** -0.3220339 -0.5505191 #> 2 Treat1.out-Control.out  3.817862 117 2.168534e-04 ***  0.7033898  0.3385190 #> 3 Treat2.out-Control.out  6.922623 117 2.539540e-10 ***  1.0254237  0.7320670 #>        ci.max #> 1 -0.09354868 #> 2  1.06826071 #> 3  1.31878047 s2 <- summary(tutoring.matched.caliper, tutoring$Grade) s3 <- summary(tutoring.matched.2to1, tutoring$Grade) s4 <- summary(tutoring.matched.3to2, tutoring$Grade)  print(\"Max Treat\"=s1, \"Caliper\"=s2, \"2-to-1\"=s3, \"3-to-2\"=s4) #>      Method Friedman.chi2   Friedman.p     rmANOVA.F    rmANOVA.p     #> 1 Max Treat      27.90354 8.726175e-07 ***  23.84506 3.758176e-10 *** #> 2   Caliper     112.99646 2.904890e-25 *** 108.21057 2.374092e-45 *** #> 3    2-to-1      18.95541 7.653924e-05 ***  15.54945 1.097932e-06 *** #> 4    3-to-2      32.27083 9.828281e-08 ***  25.03567 1.538341e-10 *** boxdiff.plot(tutoring.matched, tutoring$Grade,               ordering=c(\"Treat2\",\"Treat1\",\"Control\")) +      ggtitle(\"Maximum Treatment Matching\") boxdiff.plot(tutoring.matched.caliper, tutoring$Grade,               ordering=c(\"Treat2\",\"Treat1\",\"Control\")) +     ggtitle(\"Caliper Matching\") boxdiff.plot(tutoring.matched.2to1, tutoring$Grade,               ordering=c(\"Treat2\",\"Treat1\",\"Control\")) +     ggtitle(\"2-to-1-to-n Matching\") loess3.plot(tutoring.matched.caliper, tutoring$Grade, ylab=\"Grade\",              points.alpha=.1, method=\"loess\")"},{"path":"/articles/TriMatch.html","id":"effects-of-smoking-on-medical-expenditures","dir":"Articles","previous_headings":"","what":"Effects of Smoking on Medical Expenditures","title":"Propensity Score Matching with Three Groups","text":"example utilize National Medical Expenditure Study estimate effects smoking medical expenditures. dataset first used estimate effects smoking diseases, effect diseases medical expenditures. developed method generalize propensity score, called p-score, directly estimate effects smoking medical expenditures. specifically, defined quantitative treatment variable, pack year, defined : packyear=number cigarettes per day20×number years smokedpackyear = \\frac{\\text{number cigarettes per day}}{20} \\times \\text{number years smoked} approach designed match three separate groups continuous treatment. address two research questions: (1) effects smoking status (.e. never smoked, former smoker, current smoker) medical expenditures? (2) effects lifetime smoking medical expenditures? Figure @ref(fig:packyearsAndTotalExp) represent relationship two different treatments. figure reveals several, perhaps counterintuitive, facts. First, unadjusted total medical expenditures former smokers higher current smokers. Secondly, distribution log(packyear)log(packyear) overlap substantial former current smokers. dichotomize pack year smoking variable, split median pack year, labeled moderate smokers (.e. packyear≤median(packyear)packyear \\le median(packyear)) heavy smokers (.e. packyear>median(packyear)packyear > median(packyear)). conducted complete-case analysis Johnson et al. reported multiple imputation substantially affect results. Since many participants zero medical expenditures, add one total expenditures log transforming variable. calculate median pack year create new treatment variable, smoke2, moderate heavy smokers non-smokers. Relationship Pack Year Total Expenditures Current Smoking Status Imai van Dyk observed appeared relationship age medical expenditures. create new categorical age variable using quintiles use partial exact matching. serves two purposes, first ensures balance critical covariate (note also exactly match gender ethnicity) two, decrease search space matched triplets therefore increasing efficiency matching algorithm. possible disadvantage exact matching many treated units matched. examine unmatched treatment units . Define model estimate propensity scores. Estimate propensity scores two different treatments. Figure @ref(fig:nmestriangleplot) provides triangle plots models. Triangle Plots NMES Create two sets matched triplets two treatments. following summary unmatched rows show 96% treatment units matched models. Figure @ref(fig:nmesbalance) multiple covariate balance plot two treatments. shows absolute effect sizes adjustment better covariates. demo included TriMatch package provides functions create individual balance plots covaraite. Multiple Covariate Balance Plots NMES","code":"data(nmes) nmes <- subset(nmes, select = c(packyears, smoke, LASTAGE, MALE, RACE3, beltuse, educate, marital, SREGION, POVSTALB, HSQACCWT, TOTALEXP)) nmes <- na.omit(nmes) nmes$smoke <- factor(nmes$smoke, levels=c(0,1,2), labels=c(\"Never\",\"Smoker\",\"Former\")) nmes$LogTotalExp <- log(nmes$TOTALEXP + 1) (medPY <- median(nmes[nmes$smoke != \"Never\",]$packyears)) #> [1] 17 table(nmes$smoke, nmes$packyears > medPY) #>          #>          FALSE TRUE #>   Never   9802    0 #>   Smoker  2571 2901 #>   Former  2209 1869 nmes$smoke2 <- ifelse(nmes$smoke == \"Never\", \"Never\",  ifelse(nmes$packyears > 17, \"Heavy\", \"Moderate\")) table(nmes$smoke, nmes$smoke2, useNA=\"ifany\") #>          #>          Heavy Moderate Never #>   Never      0        0  9802 #>   Smoker  2901     2571     0 #>   Former  1869     2209     0 ggplot(nmes[nmes$smoke != \"Never\",], aes(x=log(packyears+1), color=smoke, fill=smoke)) +         geom_density(alpha=.1) +          theme(legend.position=\"none\", plot.margin=rep(unit(0, \"cm\"), 4)) +         xlab(\"\") + ylab(\"Density\") ggplot(nmes[nmes$smoke != \"Never\",], aes(x=log(packyears+1), y=LogTotalExp, color=smoke, fill=smoke)) +          geom_point(alpha=.2) +          geom_smooth(method=\"loess\", formula = y ~ x) +         scale_color_hue(\"\") + scale_fill_hue(\"\") +         theme(legend.position=c(.9,1), plot.margin=rep(unit(0, \"cm\"), 4)) +          xlab(\"log(Pack Year)\") + ylab(\"log(Total Expenditures)\") nmes$LastAge5 <- cut(nmes$LASTAGE,  breaks=quantile(nmes$LASTAGE, probs=seq(0,1,1/5)), include.lowest=TRUE, orderd_result=TRUE) formu <- ~ LASTAGE + MALE + RACE3 + beltuse + educate + marital +  SREGION + POVSTALB tpsa.smoke <- trips(nmes, nmes$smoke, formu) tpsa.packyears <- trips(nmes, nmes$smoke2, formu) p.smoke <- plot(tpsa.smoke, sample=c(.05), edge.alpha=.1) + ggtitle(\"Treatment Variable: Current Smoking Status\") p.packyears <- plot(tpsa.packyears, sample=c(.05), edge.alpha=.1) + ggtitle(\"Treatment Variable: Lifetime Smoking Frequency\") p.smoke p.packyears tmatch.smoke <- trimatch(tpsa.smoke,  exact=nmes[,c(\"LastAge5\",\"MALE\",\"RACE3\")]) tmatch.packyears <- trimatch(tpsa.packyears,  exact=nmes[,c(\"LastAge5\",\"MALE\",\"RACE3\")]) summary(unmatched(tmatch.smoke)) #> 7049 (36.4%) of 19352 total data points were not matched. #> Unmatched by treatment: #>        Never       Smoker       Former  #> 6805 (69.4%)   142 (2.6%)   102 (2.5%) summary(unmatched(tmatch.packyears)) #> 7532 (38.9%) of 19352 total data points were not matched. #> Unmatched by treatment: #>        Heavy     Moderate        Never  #>  181 (3.79%)  323 (6.76%) 7028 (71.7%) p.smoke <- multibalance.plot(tpsa.smoke) + ggtitle(\"Treatment Variable: Current Smoking Status\") p.packyears <- multibalance.plot(tpsa.packyears) + ggtitle(\"Treatment Variable: Lifetime Smoking Frequency\") p.smoke p.packyears"},{"path":"/articles/TriMatch.html","id":"phase-ii-estimating-effects-of-smoking-on-medical-expenditures","dir":"Articles","previous_headings":"Effects of Smoking on Medical Expenditures","what":"Phase II: Estimating Effects of Smoking on Medical Expenditures","title":"Propensity Score Matching with Three Groups","text":"treatment regimes used maximumTreat method finding matched triplets retain treatment unit possibility using treatment units twice cases treatment unit otherwise matched. Friedman Rank Sum Test repeated measures ANOVA indicate statistically significant difference treatment regimes. Figure @ref(fig:nmesboxplots) provides box plots differences two treatment regimes. current smoking status treatment, results indicate smoker’s actually spend less former non-smokers. However, explain, sample smokers includes survivors considered interpreting results. Imai van Dyk’s analysis used pack year treatment indicator. dichotomizing pack year moderate heavy smokers closely adheres approach. results treatment regime indicate smokers, moderate heavy, higher medical expenditures non-smokers. However, statistically significant difference heavy moderate smokers medical expenditures. Boxplot Differences NMES","code":"boxdiff.plot(tmatch.smoke, nmes$LogTotalExp, ordering=c(\"Smoker\",\"Former\",\"Never\")) +      ggtitle(\"Treatment Variable: Current Smoking Status\") boxdiff.plot(tmatch.packyears, nmes$LogTotalExp, ordering=c(\"Heavy\",\"Moderate\",\"Never\")) +     ggtitle(\"Treatment Variable: Lifetime Smoking Frequency\") sum.smoke <- summary(tmatch.smoke, nmes$LogTotalExp,  ordering=c(\"Smoker\",\"Former\",\"Never\")) sum.packyears <- summary(tmatch.packyears, nmes$LogTotalExp,  ordering=c(\"Heavy\",\"Moderate\",\"Never\")) print(\"Current Smoking Status\" = sum.smoke, \"Smoking Frequency\" = sum.packyears) #>                   Method Friedman.chi2   Friedman.p     rmANOVA.F    rmANOVA.p #> 1 Current Smoking Status      88.92973 4.888274e-20 ***  74.75344 4.985672e-33 #> 2      Smoking Frequency      33.73246 4.732484e-08 ***  13.72351 1.110186e-06 #>       #> 1 *** #> 2 *** sum.smoke$t.tests #>              Treatments          t   df      p.value sig  mean.diff     ci.min #> 1 Smoker.out-Former.out -11.606558 7407 7.053664e-31 *** -0.4777939 -0.5584907 #> 2  Smoker.out-Never.out  -2.644559 7407 8.196991e-03  ** -0.1114564 -0.1940737 #> 3  Former.out-Never.out   9.321687 7407 1.483073e-20 ***  0.3663375  0.2892994 #>        ci.max #> 1 -0.39709714 #> 2 -0.02883914 #> 3  0.44337570 sum.packyears$t.test #>               Treatments          t   df      p.value sig   mean.diff #> 1 Heavy.out-Moderate.out -0.3063659 7507 7.593345e-01     -0.01251173 #> 2    Heavy.out-Never.out  4.3264245 7507 1.535124e-05 ***  0.17925216 #> 3 Moderate.out-Never.out  4.7239231 7507 2.355422e-06 ***  0.19176389 #>        ci.min     ci.max #> 1 -0.09256793 0.06754447 #> 2  0.09803395 0.26047036 #> 3  0.11218788 0.27133989"},{"path":[]},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jason Bryer. Author, maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Bryer J (2025). TriMatch: Propensity Score Matching Non-Binary Treatments. R package version 1.0.0, http://github.com/jbryer/TriMatch, http://jbryer.github.io/TriMatch.","code":"@Manual{,   title = {TriMatch: Propensity Score Matching of Non-Binary Treatments},   author = {Jason Bryer},   year = {2025},   note = {R package version 1.0.0, http://github.com/jbryer/TriMatch},   url = {http://jbryer.github.io/TriMatch}, }"},{"path":[]},{"path":"/index.html","id":"abstract","dir":"","previous_headings":"TriMatch - Propensity score matching for non-binary treatments.","what":"Abstract","title":"Propensity Score Matching of Non-Binary Treatments","text":"use propensity score methods (Rosenbaum Rubin, 1983) become popular estimating causal inferences observational studies medical research (Austin, 2008) social sciences (Thoemmes Kim, 2011). cases however, use propensity score methods confined single treatment. Several researchers suggested using propensity score methods multiple control groups, simply perform two separate analyses, one treatment one control another treatment two control. talk introduces TriMatch package R provides method determining matched triplets. Examples educational medical contexts discussed. Consider two treatments, T r1 T r2, control, C. estimate propensity scores three separate logistic regression models model one predicts T r1 C, model two predicts T r2 C, model three predicts T r1 T r2. triangle plot Figure 1 represents fitted values (.e. propensity scores) three models edge. Since unit propensity score two models, scores connected. TriMatch algorithm find matched triplets sum distances within model minimized. Figure 1, black lines illustrate one matched triplet. Propensity score analysis two groups typically use dependent sample t-tests. analogue matched triplets include Figure 1: Triangle Plot repeated measures ANOVA Freidman Rank Sum Test. TriMatch package provides utility functions conducting visualizing statistical tests. Moreover, set functions extending PSAgraphics (Helmreich Pruzek, 2009) matched triplets check covariate balance provided.  References Austin, P. (2008). critical appraisal propensity-score matching medical literature 1996 2003. Statistics Medicine 27, 2037–2049. Helmreich, J. E. R. M. Pruzek (2009, 2). Psagraphics: r package support propensity score analysis. Journal Statistical Software 29(6), 1–23. Rosenbaum, P. R. D. B. Rubin (1983). central role propensity score observational studies causal effects. Biometrika 70, 41–55. Thoemmes, F. J. E. S. Kim (2011). systematic review propensity score methods social sciences. Multivariate Behavioral Research 46, 90–118. See Applied Propensity Score Analysis R book R package general introduction propensity score methods. Keywords: propensity score analysis, matching, non-binary treatments","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"TriMatch - Propensity score matching for non-binary treatments.","what":"Installation","title":"Propensity Score Matching of Non-Binary Treatments","text":"See vignette('TriMatch') details.","code":"# Install from CRAN install.packages('TriMatch')  # Or install the package from Github remotes::install_github('TriMatch', 'jbryer')"},{"path":"/reference/OneToN.html","id":null,"dir":"Reference","previous_headings":"","what":"This method will use a M1-to-M2-to-1 matching. — OneToN","title":"This method will use a M1-to-M2-to-1 matching. — OneToN","text":"method, M2 corresponds number times treat1 unit can matched treat2 unit. M1 parameter corresponds number times treat1 unit can used total.","code":""},{"path":"/reference/OneToN.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"This method will use a M1-to-M2-to-1 matching. — OneToN","text":"","code":"OneToN(tmatch, M1 = 2, M2 = 1, ...)"},{"path":"/reference/OneToN.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"This method will use a M1-to-M2-to-1 matching. — OneToN","text":"tmatch initial results [trimatch()] contains possible matches within specified caliper. M1 scaler indicating number unique subjects group one retain. applies first group matching order. M2 scaler indicating number unique matches retain. applies first two groups matching order. ... currently unused.","code":""},{"path":"/reference/TriMatch-package.html","id":null,"dir":"Reference","previous_headings":"","what":"Propensity Score Analysis for Non-Binary Treatments — TriMatch-package","title":"Propensity Score Analysis for Non-Binary Treatments — TriMatch-package","text":"packages provides functions estimate visualize propensity score analyses including matching non-binary treatments.","code":""},{"path":[]},{"path":"/reference/TriMatch-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Propensity Score Analysis for Non-Binary Treatments — TriMatch-package","text":"Jason Bryer jason@bryer.org","code":""},{"path":"/reference/as.data.frame.list.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a list of vectors to a data frame. — as.data.frame.list","title":"Convert a list of vectors to a data frame. — as.data.frame.list","text":"function convert list vectors data frame. function handle three different types lists vectors. First, elements list named vectors, resulting data frame number columns equal number unique names across vectors. cases vectors names vectors, values filled NA.","code":""},{"path":"/reference/as.data.frame.list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a list of vectors to a data frame. — as.data.frame.list","text":"","code":"# S3 method for class 'list' as.data.frame(x, row.names = NULL, optional = FALSE, ...)"},{"path":"/reference/as.data.frame.list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a list of vectors to a data frame. — as.data.frame.list","text":"x list convert data frame. row.names vector equal length(x) corresponding row names. NULL, row names set names(x). optional used. ... parameters passed [base::data.frame()].","code":""},{"path":"/reference/as.data.frame.list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a list of vectors to a data frame. — as.data.frame.list","text":"data frame.","code":""},{"path":"/reference/as.data.frame.list.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert a list of vectors to a data frame. — as.data.frame.list","text":"second case vectors length. case, resulting data frame equivalent applying rbind across elements. third case handled varying vector lengths vectors named. condition avoided. However, function attempt convert list data frame. resulting data frame number columns equal length longest vector. vectors length less fill row NAs. Note function print warning condition occurs.","code":""},{"path":"/reference/as.data.frame.list.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Convert a list of vectors to a data frame. — as.data.frame.list","text":"http://stackoverflow.com/questions/4227223/r-list--data-frame","code":""},{"path":"/reference/as.data.frame.list.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Convert a list of vectors to a data frame. — as.data.frame.list","text":"Jason Bryer jason@bryer.org","code":""},{"path":"/reference/as.data.frame.list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert a list of vectors to a data frame. — as.data.frame.list","text":"","code":"test1 <- list( c(a='a',b='b',c='c'), c(a='d',b='e',c='f'))     as.data.frame(test1) #>   c.a....a...b....b...c....c.. c.a....d...b....e...c....f.. #> a                            a                            d #> b                            b                            e #> c                            c                            f          test2 <- list( c('a','b','c'), c(a='d',b='e',c='f'))     as.data.frame(test2) #>   c..a....b....c.. c.a....d...b....e...c....f.. #> a                a                            d #> b                b                            e #> c                c                            f          test3 <- list('Row1'=c(a='a',b='b',c='c'), 'Row2'=c(var1='d',var2='e',var3='f'))     as.data.frame(test3) #>   Row1 Row2 #> a    a    d #> b    b    e #> c    c    f          if (FALSE) { # \\dontrun{     #This will print a warning.     test4 <- list('Row1'=letters[1:5], 'Row2'=letters[1:7], 'Row3'=letters[8:14])     as.data.frame(test4)     } # }          test5 <- list(letters[1:10], letters[11:20])     as.data.frame(test5) #>    c..a....b....c....d....e....f....g....h....i....j.. #> 1                                                    a #> 2                                                    b #> 3                                                    c #> 4                                                    d #> 5                                                    e #> 6                                                    f #> 7                                                    g #> 8                                                    h #> 9                                                    i #> 10                                                   j #>    c..k....l....m....n....o....p....q....r....s....t.. #> 1                                                    k #> 2                                                    l #> 3                                                    m #> 4                                                    n #> 5                                                    o #> 6                                                    p #> 7                                                    q #> 8                                                    r #> 9                                                    s #> 10                                                   t          if (FALSE) { # \\dontrun{     #This will throw an error.     test6 <- list(list(letters), letters)     as.data.frame(test6)     } # }"},{"path":"/reference/balance.plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Balance plot for the given covariate. — balance.plot","title":"Balance plot for the given covariate. — balance.plot","text":"covariate numeric, boxplots drawn red points mean green error bars standard error. non-numeric covariates barplot drawn.","code":""},{"path":"/reference/balance.plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Balance plot for the given covariate. — balance.plot","text":"","code":"balance.plot(   x,   covar,   model,   nstrata = attr(attr(tmatch, \"triangle.psa\"), \"nstrata\"),   label = \"Covariate\",   ylab = \"\",   xlab = NULL,   se.ratio = 2,   print = TRUE,   legend.position = \"top\",   x.axis.labels,   x.axis.angle = -45,   ... )"},{"path":"/reference/balance.plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Balance plot for the given covariate. — balance.plot","text":"x results [trimatch()]. covar vector covariate check balance . model integer 1 3 indicating model propensity scores used. nstrata number strata use. label label legend. ylab label y-axis. xlab label x-axis. se.ratio multiplier large standard error bars . print print output Freidman Rank Sum Test repeated measures ANOVA (continuous variables). legend.position position legend. x.axis.labels labels x-axis. x.axis.angle angle x-axis labels. ... parameters passed [plot.balance.plots()].","code":""},{"path":"/reference/balance.plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Balance plot for the given covariate. — balance.plot","text":"ggplot2 figure list ggplot2 figures covar        data frame.","code":""},{"path":"/reference/balance.plot.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Balance plot for the given covariate. — balance.plot","text":"Friedman rank sum test performed covariate types, printed, stored attribute returned object named friedman. continuous covariate repeated measures ANOVA also performed, printed, returned attribute named rmanova.","code":""},{"path":"/reference/boxdiff.plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Returns a ggplot2 box plot of the differences. — boxdiff.plot","title":"Returns a ggplot2 box plot of the differences. — boxdiff.plot","text":"boxplot differences pair treatments.","code":""},{"path":"/reference/boxdiff.plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Returns a ggplot2 box plot of the differences. — boxdiff.plot","text":"","code":"boxdiff.plot(   tmatch,   out,   plot.mean = TRUE,   ordering = attr(tmatch, \"match.order\"),   ci.width = 0.5 )"},{"path":"/reference/boxdiff.plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Returns a ggplot2 box plot of the differences. — boxdiff.plot","text":"tmatch results [trimatch()]. vector outcome measure interest. plot.mean logical indicating whether means plotted. ordering specify order paired analysis, analysis conducted : ordering[1] - ordering[2], ordering[1] - ordering[3], ordering[2] - ordering[3]. ci.width width confidence intervals.","code":""},{"path":"/reference/boxdiff.plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Returns a ggplot2 box plot of the differences. — boxdiff.plot","text":"ggplot2 boxplot differences.","code":""},{"path":"/reference/covariateBalance.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate covariate effect size differences before and after stratification. — covariateBalance","title":"Calculate covariate effect size differences before and after stratification. — covariateBalance","text":"function modified [PSAgraphics::cv.bal.psa()] function `PSAgrpahics` package.","code":""},{"path":"/reference/covariateBalance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate covariate effect size differences before and after stratification. — covariateBalance","text":"","code":"covariateBalance(   covariates,   treatment,   propensity,   strata = NULL,   int = NULL,   tree = FALSE,   minsize = 2,   universal.psd = TRUE,   trM = 0,   absolute.es = TRUE,   trt.value = NULL,   use.trt.var = FALSE,   verbose = FALSE,   xlim = NULL,   plot.strata = TRUE,   ... )"},{"path":"/reference/covariateBalance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate covariate effect size differences before and after stratification. — covariateBalance","text":"covariates dataframe interest treatment binary vector 0s 1s (necessarily? character, 1, 2?) propensity PS scores method . strata either vector strata number row covariate, one number n case attempted group rows ps scores n strata size approximately 1/n.  seem work well case specific propensity values, tree. int either number m used divide [0,1] m equal length subintervals, vector cut points 0    1 defining subintervals (perhaps suggested loess.psa).  either case subintervals define strata, strata can size. tree logical, unique ps scores , recursively partitioned tree, TRUE force ps value define stratum. minsize smallest allowable stratum-treatment size.  violated, strata removed. universal.psd 'TRUE', forces standard deviations used unadjusted stratification. trM trimming proportion mean calculations. absolute.es logical, 'TRUE' routine uses absolute values effect sizes. trt.value allows user specify value active treatment, desired. use.trt.var logical, true Rubin-Stuart method using treatment variance used effect size calculations. verbose logical, controls output visibly returned. xlim limits x-axis. plot.strata logical indicating whether print strata. ... currently unused.","code":""},{"path":"/reference/covariateBalance.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate covariate effect size differences before and after stratification. — covariateBalance","text":"Note: effect sizes calculated treatment 1 - treatment 0, treatment B - treatment .","code":""},{"path":"/reference/covariateBalance.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Calculate covariate effect size differences before and after stratification. — covariateBalance","text":"Robert M. Pruzek RMPruzek@yahoo.com James E. Helmreich James.Helmreich@Marist.edu KuangNan Xiong harryxkn@yahoo.com","code":""},{"path":"/reference/data.frame.to.list.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a list of vectors to a data frame. — data.frame.to.list","title":"Convert a list of vectors to a data frame. — data.frame.to.list","text":"function convert list vectors data frame. function handle three different types lists vectors. First, elements list named vectors, resulting data frame number columns equal number unique names across vectors. cases vectors names vectors, values filled NA.","code":""},{"path":"/reference/data.frame.to.list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a list of vectors to a data frame. — data.frame.to.list","text":"","code":"data.frame.to.list(...)"},{"path":"/reference/data.frame.to.list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a list of vectors to a data frame. — data.frame.to.list","text":"... parameters passed [base::data.frame()].","code":""},{"path":"/reference/data.frame.to.list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a list of vectors to a data frame. — data.frame.to.list","text":"data frame.","code":""},{"path":"/reference/data.frame.to.list.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert a list of vectors to a data frame. — data.frame.to.list","text":"second case vectors length. case, resulting data frame equivalent applying rbind across elements. third case handled varying vector lengths vectors named. condition avoided. However, function attempt convert list data frame. resulting data frame number columns equal length longest vector. vectors length less fill row NAs. Note function print warning condition occurs.","code":""},{"path":"/reference/data.frame.to.list.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Convert a list of vectors to a data frame. — data.frame.to.list","text":"http://stackoverflow.com/questions/4227223/r-list--data-frame","code":""},{"path":"/reference/data.frame.to.list.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Convert a list of vectors to a data frame. — data.frame.to.list","text":"Jason Bryer jason@bryer.org","code":""},{"path":"/reference/data.frame.to.list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert a list of vectors to a data frame. — data.frame.to.list","text":"","code":"test1 <- list( c(a='a',b='b',c='c'), c(a='d',b='e',c='f'))     as.data.frame(test1) #>   c.a....a...b....b...c....c.. c.a....d...b....e...c....f.. #> a                            a                            d #> b                            b                            e #> c                            c                            f          test2 <- list( c('a','b','c'), c(a='d',b='e',c='f'))     as.data.frame(test2) #>   c..a....b....c.. c.a....d...b....e...c....f.. #> a                a                            d #> b                b                            e #> c                c                            f          test3 <- list('Row1'=c(a='a',b='b',c='c'), 'Row2'=c(var1='d',var2='e',var3='f'))     as.data.frame(test3) #>   Row1 Row2 #> a    a    d #> b    b    e #> c    c    f          if (FALSE) { # \\dontrun{     #This will print a warning.     test4 <- list('Row1'=letters[1:5], 'Row2'=letters[1:7], 'Row3'=letters[8:14])     as.data.frame(test4)     } # }          test5 <- list(letters[1:10], letters[11:20])     as.data.frame(test5) #>    c..a....b....c....d....e....f....g....h....i....j.. #> 1                                                    a #> 2                                                    b #> 3                                                    c #> 4                                                    d #> 5                                                    e #> 6                                                    f #> 7                                                    g #> 8                                                    h #> 9                                                    i #> 10                                                   j #>    c..k....l....m....n....o....p....q....r....s....t.. #> 1                                                    k #> 2                                                    l #> 3                                                    m #> 4                                                    n #> 5                                                    o #> 6                                                    p #> 7                                                    q #> 8                                                    r #> 9                                                    s #> 10                                                   t          if (FALSE) { # \\dontrun{     #This will throw an error.     test6 <- list(list(letters), letters)     as.data.frame(test6)     } # }"},{"path":"/reference/distance.euclid.html","id":null,"dir":"Reference","previous_headings":"","what":"Euclidean distance calculation. — distance.euclid","title":"Euclidean distance calculation. — distance.euclid","text":"method uses simple Euclidean distance calculation determining distances two matches. , |ps1 - ps2|.","code":""},{"path":"/reference/distance.euclid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Euclidean distance calculation. — distance.euclid","text":"","code":"distance.euclid(x, grouping, id, groups, caliper, nmatch = Inf)"},{"path":"/reference/distance.euclid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Euclidean distance calculation. — distance.euclid","text":"x vector propensity scores. grouping vector factor identifying group membership. id vector corresponding unique identifer element x grouping. groups vector length two indicating unique groups calculate distance . first element rows, second columns. caliper scaler indicating caliper use matching within step. nmatch number smallest distances retain.","code":""},{"path":"/reference/distance.euclid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Euclidean distance calculation. — distance.euclid","text":"list length equal x. element list        named numeric vector values correspond distance        name id.","code":""},{"path":"/reference/distances.plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Barplot for the sum of distances. — distances.plot","title":"Barplot for the sum of distances. — distances.plot","text":"Barplot sum distances.","code":""},{"path":"/reference/distances.plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Barplot for the sum of distances. — distances.plot","text":"","code":"distances.plot(tmatch, caliper = 0.25, label = FALSE)"},{"path":"/reference/distances.plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Barplot for the sum of distances. — distances.plot","text":"tmatch results [trimatch()]. caliper vector indicating vertical lines drawn factor standard deviation. Rosenbaum Rubin (1985) suggested one quarter one standard deviation. label label bars exceed minimum caliper.","code":""},{"path":[]},{"path":"/reference/loess3.plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Loess plot for matched triplets. — loess3.plot","title":"Loess plot for matched triplets. — loess3.plot","text":"function create ggplot2 figure propensity scores x-axis outcome y-axis. Three Loess regression lines plotted based upon propensity scores model. Since model produces propensity scores two three groups, propensity score third group matched triplet mean two. model specified, default use model estimates propensity scores first two groups matching order.","code":""},{"path":"/reference/loess3.plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Loess plot for matched triplets. — loess3.plot","text":"","code":"loess3.plot(   tmatch,   outcome,   model,   ylab = \"Outcome\",   plot.connections = FALSE,   connections.color = \"black\",   connections.alpha = 0.2,   plot.points = geom_point,   points.alpha = 0.1,   points.palette = \"Dark2\",   ... )"},{"path":"/reference/loess3.plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Loess plot for matched triplets. — loess3.plot","text":"tmatch results [trimatch()]. outcome vector representing outcomes. model integer 1 3 indicating model propensity scores used. ylab label y-axis. plot.connections boolean indicating whether lines drawn connecting matched triplet. connections.color line color connections. connections.alpha number 0 1 representing alpha levels connection lines. plot.points ggplot2 function plotting points. Usually [ggplot2::geom_point()] [ggplot2::geom_jitter()]. `NULL` points drawn. points.alpha number 0 1 representing alpha level points. points.palette color palette use. See [ggplot2::scale_colour_brewer()] http://colorbrewer2.org/ information. ... parameters passed [ggplot2::geom_smooth()] [ggplot2::stat_smooth()].","code":""},{"path":"/reference/loess3.plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Loess plot for matched triplets. — loess3.plot","text":"`ggplot2` figure.","code":""},{"path":"/reference/maximumTreat.html","id":null,"dir":"Reference","previous_headings":"","what":"This method will return at least one treatment from groups one and two within the caliper. — maximumTreat","title":"This method will return at least one treatment from groups one and two within the caliper. — maximumTreat","text":"method attempt return enough rows use treatment (first two groups matching order) least . Assuming treat1 first group match order treat2 second, duplicate treat1 rows removed. Next, treat2 units present removing duplicate treat1 units identified. treat2 units, matched triplet smallest overall distances treat2 one mathched units retained.","code":""},{"path":"/reference/maximumTreat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"This method will return at least one treatment from groups one and two within the caliper. — maximumTreat","text":"","code":"maximumTreat(tmatch, ...)"},{"path":"/reference/maximumTreat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"This method will return at least one treatment from groups one and two within the caliper. — maximumTreat","text":"tmatch initial results [trimatch()] contains possible matches within specified caliper. ... currently unused.","code":""},{"path":"/reference/merge.triangle.matches.html","id":null,"dir":"Reference","previous_headings":"","what":"Merges outcomes with the matched set. — merge.triangle.matches","title":"Merges outcomes with the matched set. — merge.triangle.matches","text":"y parameter subset original data used.","code":""},{"path":"/reference/merge.triangle.matches.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Merges outcomes with the matched set. — merge.triangle.matches","text":"","code":"# S3 method for class 'triangle.matches' merge(x, y, ...)"},{"path":"/reference/merge.triangle.matches.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Merges outcomes with the matched set. — merge.triangle.matches","text":"x result [trimatch()] y another data frame vector merge . ... unused","code":""},{"path":"/reference/merge.triangle.matches.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Merges outcomes with the matched set. — merge.triangle.matches","text":"x additional column(s) added.","code":""},{"path":"/reference/merge.triangle.psa.html","id":null,"dir":"Reference","previous_headings":"","what":"Merges covariate(s) with the results of [trips()]. — merge.triangle.psa","title":"Merges covariate(s) with the results of [trips()]. — merge.triangle.psa","text":"y parameter subset original data used.","code":""},{"path":"/reference/merge.triangle.psa.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Merges covariate(s) with the results of [trips()]. — merge.triangle.psa","text":"","code":"# S3 method for class 'triangle.psa' merge(x, y, ...)"},{"path":"/reference/merge.triangle.psa.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Merges covariate(s) with the results of [trips()]. — merge.triangle.psa","text":"x result [trips()] y another data frame vector merge . ... unused","code":""},{"path":"/reference/merge.triangle.psa.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Merges covariate(s) with the results of [trips()]. — merge.triangle.psa","text":"x additional column(s) added.","code":""},{"path":"/reference/multibalance.plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Multiple covariate balance assessment plot. — multibalance.plot","title":"Multiple covariate balance assessment plot. — multibalance.plot","text":"graphic based upon [cv.bal.psa()] function `PSAgraphics` package. graphic plots effect sizes multiple covariates propensity score adjustment.","code":""},{"path":"/reference/multibalance.plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Multiple covariate balance assessment plot. — multibalance.plot","text":"","code":"multibalance.plot(tpsa, tmatch, grid = TRUE, cols)"},{"path":"/reference/multibalance.plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Multiple covariate balance assessment plot. — multibalance.plot","text":"tpsa results [trips()]. tmatch results [trimatch()]. grid TRUE, grid three plots model displayed. cols character vector covariates (.e. column names) original data include plot. default covariates used logistic regression model used.","code":""},{"path":"/reference/multibalance.plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Multiple covariate balance assessment plot. — multibalance.plot","text":"ggplot2 figure.","code":""},{"path":"/reference/nmes.html","id":null,"dir":"Reference","previous_headings":"","what":"Results from the 1987 National Medical Expenditure Study — nmes","title":"Results from the 1987 National Medical Expenditure Study — nmes","text":"file originally prepared Anders Corr (corr@fas.harvard.edu) reports December 8, 2007 resulting numbers closely match reported published article. later modified Jason Bryer (jason@bryer.org) R data object included package. See http://imai.princeton.edu/research/pscore.html information","code":""},{"path":"/reference/nmes.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Results from the 1987 National Medical Expenditure Study — nmes","text":"data frame 9,708 observations 12 variables.","code":""},{"path":"/reference/nmes.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Results from the 1987 National Medical Expenditure Study — nmes","text":"http://imai.princeton.edu/research/pscore.html","code":""},{"path":"/reference/nmes.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Results from the 1987 National Medical Expenditure Study — nmes","text":"National Center Health Services Research, 1987. National         Medical Expenditure Survey. Methods II. Questionnaires data         collection methods household survey Survey         American Indians Alaska Natives. National Center Health         Services Research Health Technology Assessment. Imai, K., & van Dyk, D.. (2004). Causal Inference General         Treatment Regimes: Generalizing Propensity Score, Journal         American Statistical Association, 99(467), pp. 854-866. Elizabeth Johnson, E., Dominici, F., Griswold, M., & Zeger, S.L. (2003).         Disease cases medical costs attributable smoking:         analysis national medical expenditure survey. Journal         Econometrics, 112.","code":""},{"path":"/reference/nmes.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Results from the 1987 National Medical Expenditure Study — nmes","text":"United States Department Health Human Services.         Agency Health Care Policy Research","code":""},{"path":"/reference/parallel.plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Parallel coordinate plot for the three groups and dependent variable. — parallel.plot","title":"Parallel coordinate plot for the three groups and dependent variable. — parallel.plot","text":"Creates ggplot2 figure parallel coordinate plot.","code":""},{"path":"/reference/parallel.plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parallel coordinate plot for the three groups and dependent variable. — parallel.plot","text":"","code":"parallel.plot(tmatch, outcome)"},{"path":"/reference/parallel.plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parallel coordinate plot for the three groups and dependent variable. — parallel.plot","text":"tmatch results [trimatch()]. outcome vector outcome","code":""},{"path":"/reference/perpPt.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal method for plotting. Finds a point d distance from x, y — perpPt","title":"Internal method for plotting. Finds a point d distance from x, y — perpPt","text":"Internal method plotting. Finds point d distance x, y","code":""},{"path":"/reference/perpPt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal method for plotting. Finds a point d distance from x, y — perpPt","text":"","code":"perpPt(x, y, d = 0.05)"},{"path":"/reference/perpPt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal method for plotting. Finds a point d distance from x, y — perpPt","text":"x x coordinate y y coordinate d distance","code":""},{"path":"/reference/plot.balance.plots.html","id":null,"dir":"Reference","previous_headings":"","what":"Prints a grid of balance plots. — plot.balance.plots","title":"Prints a grid of balance plots. — plot.balance.plots","text":"Prints grid balance plots.","code":""},{"path":"/reference/plot.balance.plots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prints a grid of balance plots. — plot.balance.plots","text":"","code":"# S3 method for class 'balance.plots' plot(x, rows, cols, byrow = TRUE, plot.sequence = seq_along(bplots), ...)"},{"path":"/reference/plot.balance.plots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prints a grid of balance plots. — plot.balance.plots","text":"x results [balance.plot()] data frame specified. rows covar data frame covariates, number rows grid figures. cols covar data frame covariates, number columns grid figures. byrow TRUE (default), plots drawn rows, otherwise columns. plot.sequence sequence (subset) plots draw. ... currently unused.","code":""},{"path":"/reference/plot.triangle.matches.html","id":null,"dir":"Reference","previous_headings":"","what":"Triangle plot drawing matched triplets. — plot.triangle.matches","title":"Triangle plot drawing matched triplets. — plot.triangle.matches","text":"plot function adds layer [plot.triangle.psa()] drawing matched triplets. `p` supplied, function simply draw top pre-existing plot, otherwise [plot.triangle.psa()] called first.","code":""},{"path":"/reference/plot.triangle.matches.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Triangle plot drawing matched triplets. — plot.triangle.matches","text":"","code":"# S3 method for class 'triangle.matches' plot(   x,   sample = 0.05,   rows = sample(nrow(tmatch), nrow(tmatch) * sample),   line.color = \"black\",   line.alpha = 0.5,   point.color = \"black\",   point.size = 3,   p,   ... )"},{"path":"/reference/plot.triangle.matches.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Triangle plot drawing matched triplets. — plot.triangle.matches","text":"x matched triplets [triangle.match()]. sample number 0 1 representing percentage matched triplets draw. rows integer vector corresponding rows `tmatch` draw. line.color line color. line.alpha alpha lines. point.color color matched triplet points. point.size point size matched triplets. p ggplot add match lines. NULL, [plot.triangle.psa()]. ... parameters passed [plot.triangle.psa()].","code":""},{"path":"/reference/plot.triangle.matches.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Triangle plot drawing matched triplets. — plot.triangle.matches","text":"`ggplot2` graphic.","code":""},{"path":"/reference/plot.triangle.matches.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Triangle plot drawing matched triplets. — plot.triangle.matches","text":"function calls [plot.triangle.psa()], draw line segments points data rows used matching procedure. , data elements matched excluded figure. plot segments points regardless used matching, set `p = plot(tpsa)`.","code":""},{"path":[]},{"path":"/reference/plot.triangle.psa.html","id":null,"dir":"Reference","previous_headings":"","what":"Triangle plot. — plot.triangle.psa","title":"Triangle plot. — plot.triangle.psa","text":"Triangle plot showing fitted values (propensity scores) three different models.","code":""},{"path":"/reference/plot.triangle.psa.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Triangle plot. — plot.triangle.psa","text":"","code":"# S3 method for class 'triangle.psa' plot(   x,   point.alpha = 0.3,   point.size = 1.5,   legend.title = \"Treatment\",   text.size = 4,   draw.edges = FALSE,   draw.segments = TRUE,   edge.alpha = 0.2,   edge.color = \"grey\",   edge.labels = c(\"Model 1\", \"Model 2\", \"Model 3\"),   sample = c(1),   ... )"},{"path":"/reference/plot.triangle.psa.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Triangle plot. — plot.triangle.psa","text":"x results [trips()]. point.alpha alpha level points. point.size point size. legend.title title legend. text.size text size. draw.edges draw edges triangle. draw.segments draw segments connecting points across two models. edge.alpha alpha level edges drawn. edge.color color edges drawn. edge.labels labels use edge triangle. sample vector length 1 3 representing sample points plot. position element corresponds groups returned attr(tpsa,'groups'). equal one, points plotted. Values less one plot percentage points. Values greater one exactly number points plotted. ... currently unused.","code":""},{"path":"/reference/plot.triangle.psa.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Triangle plot. — plot.triangle.psa","text":"ggplot2 figure","code":""},{"path":[]},{"path":"/reference/print.balance.plots.html","id":null,"dir":"Reference","previous_headings":"","what":"Print the results of [balance.plot()] for a data frame of covariates. — print.balance.plots","title":"Print the results of [balance.plot()] for a data frame of covariates. — print.balance.plots","text":"Print results [balance.plot()] data frame covariates.","code":""},{"path":"/reference/print.balance.plots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print the results of [balance.plot()] for a data frame of covariates. — print.balance.plots","text":"","code":"# S3 method for class 'balance.plots' print(x, ...)"},{"path":"/reference/print.balance.plots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print the results of [balance.plot()] for a data frame of covariates. — print.balance.plots","text":"x results [balance.plot()] data frame specified. ... parameters passed [plot.balance.plots()] [summary.balance.plots()].","code":""},{"path":"/reference/print.triangle.plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Print method for [plot.triangle.psa()]. The primary purpose is to suppress the ","title":"Print method for [plot.triangle.psa()]. The primary purpose is to suppress the ","text":"Print method [plot.triangle.psa()]. primary purpose suppress \"Removed n rows containing missing values\" warning printed `ggplot2`.","code":""},{"path":"/reference/print.triangle.plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print method for [plot.triangle.psa()]. The primary purpose is to suppress the ","text":"","code":"# S3 method for class 'triangle.plot' print(x, ...)"},{"path":"/reference/print.triangle.plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print method for [plot.triangle.psa()]. The primary purpose is to suppress the ","text":"x plot [plot.triangle.psa()]. ... parameters passed ggplot2.","code":""},{"path":"/reference/print.trimatch.summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Prints the results of [summary.triangle.matches()]. — print.trimatch.summary","title":"Prints the results of [summary.triangle.matches()]. — print.trimatch.summary","text":"S3 generic function print results [summary.triangle.matches()].","code":""},{"path":"/reference/print.trimatch.summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prints the results of [summary.triangle.matches()]. — print.trimatch.summary","text":"","code":"# S3 method for class 'trimatch.summary' print(x, ...)"},{"path":"/reference/print.trimatch.summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prints the results of [summary.triangle.matches()]. — print.trimatch.summary","text":"x results [summary.triangle.matches()]. ... multiple results [summary.triangle.matches()]. must named. example, \"Method 1\" = summary(tmath, outcome).","code":""},{"path":"/reference/segment1.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal method for plotting. Position along the left side segment — segment1","title":"Internal method for plotting. Position along the left side segment — segment1","text":"Internal method plotting. Position along left side segment","code":""},{"path":"/reference/segment1.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal method for plotting. Position along the left side segment — segment1","text":"","code":"segment1(d)"},{"path":"/reference/segment1.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal method for plotting. Position along the left side segment — segment1","text":"d distance","code":""},{"path":"/reference/segment2.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal method for plotting. Position along the right side segment — segment2","title":"Internal method for plotting. Position along the right side segment — segment2","text":"Internal method plotting. Position along right side segment","code":""},{"path":"/reference/segment2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal method for plotting. Position along the right side segment — segment2","text":"","code":"segment2(d)"},{"path":"/reference/segment2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal method for plotting. Position along the right side segment — segment2","text":"d distance","code":""},{"path":"/reference/star.html","id":null,"dir":"Reference","previous_headings":"","what":"Returns significance level. — star","title":"Returns significance level. — star","text":"Returns significance level stars, NA non-numeric value passed .","code":""},{"path":"/reference/star.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Returns significance level. — star","text":"","code":"star(x)"},{"path":"/reference/star.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Returns significance level. — star","text":"x p-value.","code":""},{"path":"/reference/summary.balance.plots.html","id":null,"dir":"Reference","previous_headings":"","what":"Prints a summary table of the test statistics of each balance plot. — summary.balance.plots","title":"Prints a summary table of the test statistics of each balance plot. — summary.balance.plots","text":"[balance.plot()] function create grid balance plots data frame provided. returned object list ggplot2 figures statistical tests (.e. Friedmen Rank Sum tests continuous variable, repeated measures ANOVA well) saved attributes. function return data frame combining results.","code":""},{"path":"/reference/summary.balance.plots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prints a summary table of the test statistics of each balance plot. — summary.balance.plots","text":"","code":"# S3 method for class 'balance.plots' summary(object, ...)"},{"path":"/reference/summary.balance.plots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prints a summary table of the test statistics of each balance plot. — summary.balance.plots","text":"object results [balance.plot()] data frame specified. ... currently unused.","code":""},{"path":"/reference/summary.balance.plots.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prints a summary table of the test statistics of each balance plot. — summary.balance.plots","text":"data frame","code":""},{"path":"/reference/summary.triangle.matches.html","id":null,"dir":"Reference","previous_headings":"","what":"Provides a summary of the matched triplets including analysis of outcome measure if provided. — summary.triangle.matches","title":"Provides a summary of the matched triplets including analysis of outcome measure if provided. — summary.triangle.matches","text":"outcome measure provided function perform Freidman Rank Sum Test repeated measures ANOVA. either test statistically significant difference (determined value p parameter), Pairwise Wilcoxon Rank Sum Test also provided.","code":""},{"path":"/reference/summary.triangle.matches.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Provides a summary of the matched triplets including analysis of outcome measure if provided. — summary.triangle.matches","text":"","code":"# S3 method for class 'triangle.matches' summary(object, outcome, p = 0.05, ordering = attr(object, \"match.order\"), ...)"},{"path":"/reference/summary.triangle.matches.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Provides a summary of the matched triplets including analysis of outcome measure if provided. — summary.triangle.matches","text":"object result [trimatch()]. outcome vector representing outcome measure. p threshold p value perform ordering specify order paired analysis, analysis conducted : ordering[1] - ordering[2], ordering[1] - ordering[3], ordering[2] - ordering[3]. ... parameters passed statistical tests.","code":""},{"path":"/reference/summary.triangle.matches.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Provides a summary of the matched triplets including analysis of outcome measure if provided. — summary.triangle.matches","text":"trimatch.summary object.","code":""},{"path":[]},{"path":"/reference/summary.triangle.psa.html","id":null,"dir":"Reference","previous_headings":"","what":"Prints the summary results of the logistic regression models. — summary.triangle.psa","title":"Prints the summary results of the logistic regression models. — summary.triangle.psa","text":"[trips()] function estimates three separate logistic regression models pair groups. function print combined table three summaries.","code":""},{"path":"/reference/summary.triangle.psa.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prints the summary results of the logistic regression models. — summary.triangle.psa","text":"","code":"# S3 method for class 'triangle.psa' summary(object, ...)"},{"path":"/reference/summary.triangle.psa.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prints the summary results of the logistic regression models. — summary.triangle.psa","text":"object results [trips()]. ... currently unused.","code":""},{"path":"/reference/summary.unmatched.html","id":null,"dir":"Reference","previous_headings":"","what":"Provides a summary of unmatched subjects. — summary.unmatched","title":"Provides a summary of unmatched subjects. — summary.unmatched","text":"return list print percentage total unmatched rows percent treatment.","code":""},{"path":"/reference/summary.unmatched.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Provides a summary of unmatched subjects. — summary.unmatched","text":"","code":"# S3 method for class 'unmatched' summary(object, digits = 3, ...)"},{"path":"/reference/summary.unmatched.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Provides a summary of unmatched subjects. — summary.unmatched","text":"object results [unmatched()]. digits number digits print. ... currently unused.","code":""},{"path":"/reference/summary.unmatched.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Provides a summary of unmatched subjects. — summary.unmatched","text":"list summary results.","code":""},{"path":"/reference/trimatch.apply2.html","id":null,"dir":"Reference","previous_headings":"","what":"Recursive function to find possible matched triplets using the apply functions. — trimatch.apply2","title":"Recursive function to find possible matched triplets using the apply functions. — trimatch.apply2","text":"Internal method. version use exact matching. Instead, function called separately grouping.","code":""},{"path":"/reference/trimatch.apply2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Recursive function to find possible matched triplets using the apply functions. — trimatch.apply2","text":"","code":"trimatch.apply2(tpsa, caliper, nmatch, match.order, sd1, sd2, sd3)"},{"path":"/reference/trimatch.apply2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Recursive function to find possible matched triplets using the apply functions. — trimatch.apply2","text":"tpsa results [trips()] caliper vector length one three indicating caliper use matching within step. expressed standardized units .25 means matches must within .25 one standard deviation kept, otherwise match dropped. nmatch number closest matches retain moving next edge. can Inf case matches within caliper retained next step. large datasets, evaluating possible matches within caliper time consuming. match.order character vector length three indicating order matching algorithm processes. default use start group middle number subjects, followed smallest, largest. sd1 standard deviation propensity scores model 1. sd2 standard deviation propensity scores model 2. sd3 standard deviation propensity scores model 3.","code":""},{"path":"/reference/trimatch.html","id":null,"dir":"Reference","previous_headings":"","what":"Creates matched triplets. — trimatch","title":"Creates matched triplets. — trimatch","text":"Create matched triplets minimizing total distance matched triplets within specified caliper.","code":""},{"path":"/reference/trimatch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Creates matched triplets. — trimatch","text":"","code":"trimatch(   tpsa,   caliper = 0.25,   nmatch = c(15),   match.order,   exact,   method = maximumTreat,   ... )"},{"path":"/reference/trimatch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Creates matched triplets. — trimatch","text":"tpsa results [trips()] caliper vector length one three indicating caliper use matching within step. expressed standardized units .25 means matches must within .25 one standard deviation kept, otherwise match dropped. nmatch number closest matches retain moving next edge. can Inf case matches within caliper retained next step. large datasets, evaluating possible matches within caliper time consuming. match.order character vector length three indicating order matching algorithm processes. default use start group middle number subjects, followed smallest, largest. exact vector data frame representing covariates exact matching. , matched triplets first matched exactly covariates evaluating distances. method function specifies matched triplets retained. `NULL`, matched triplets within specified caliper returned (equivalent caliper matching two group matching). default [maximumTreat()] attempts include treatment least . Another option [OneToN()] mimicks one--n matching treatments matched multiple control units. ... parameters passed `method`.","code":""},{"path":"/reference/trimatch.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Creates matched triplets. — trimatch","text":"[trips()] function estimate propensity scores three models. method find best matched triplets based upon minimizing summed differences propensity scores across three models. , algorithm works follows: first subject model 1 selected. nmatch[1] smallest distances selected using propensity scores  model 1. matches identified, subjects propensity score model  2 retrieved. nmatch[2] smallest distances selected using propensity score  model 3. matches identified, subjects propensity score model  2 retrieved. distances calculated first last subjects propensity scores  model 2. three distances summed. triplet smallest overall distance selected returned.","code":""},{"path":"/reference/trimatch.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Creates matched triplets. — trimatch","text":"","code":"if (FALSE) { # \\dontrun{ data(turoing) formu <- ~ Gender + Ethnicity + Military + ESL + EdMother + EdFather + Age +      Employment + Income + Transfer + GPA tpsa <- trips(tutoring, tutoring$treat, formu) tmatch <- trimatch(tpsa, status=FALSE) } # }"},{"path":"/reference/trips.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimates propensity scores for three groups — trips","title":"Estimates propensity scores for three groups — trips","text":"propensity score $$e(X)=P({ W }=1|X)$$ function estimate propensity scores pair groups (e.g. two treatments one control).","code":""},{"path":"/reference/trips.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimates propensity scores for three groups — trips","text":"","code":"trips(   thedata,   treat,   formu = ~.,   groups = unique(treat),   nstrata = 5,   method = \"logistic\",   ... )"},{"path":"/reference/trips.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimates propensity scores for three groups — trips","text":"thedata data frame. treat vector factor indicating treatment/control assignment thedata. Length must equal nrow(thedata). formu logistic regression formula. Note dependent variable specified modified. groups vector exactly length three corresponding values treat control/treatment. nstrata number strata marks plot edge. method method use estimate propensity scores. Current options logistic randomForest. ... parameters passed [stats::glm()].","code":""},{"path":"/reference/trips.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimates propensity scores for three groups — trips","text":"$${ PS }_{ 1 }=e({ X }_{ { T }_{ 1 }C })=Pr(z=1|{ X }_{ { T }_{ 1 }C })$$ $${ PS }_{ 2 }=e({ X }_{ { T }_{ 2 }C })=Pr(z=1|{ X }_{ { T }_{ 2 }C })$$ $${ PS }_{ 3 }=e({ X }_{ { T }_{ 2 }{ T }_{ 1 } })=Pr(z=1|{ X }_{ { T }_{ 2 }{ T }_{ 1 } })$$","code":""},{"path":"/reference/trips.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimates propensity scores for three groups — trips","text":"","code":"if (FALSE) { # \\dontrun{ data(tutoring) formu <- ~ Gender + Ethnicity + Military + ESL + EdMother + EdFather + Age +      Employment + Income + Transfer + GPA tpsa <- trips(tutoring, tutoring$treat, formu) head(tpsa) } # }"},{"path":"/reference/tutoring.html","id":null,"dir":"Reference","previous_headings":"","what":"Results from a study examining the effects of tutoring services on course grades. — tutoring","title":"Results from a study examining the effects of tutoring services on course grades. — tutoring","text":"treat Treatment indicator. Course course id student enrolled . Grade course grade student earned (4=, 3=B, 2=C, 1=D, 0=F W). Gender Gender student. Ethnicity Ethnicity student, either White, Black, . Military student active military student. ESL English second language student. EdMother Education level mother (1 = finish high school; 2 = high school grad; 3 = college; 4 = earned associate degree; 5 = earned baccalaureate degree; 6 = Earned Master's degree; 7 = earned doctorate). EdFather Education level father (levels EdMother). Age Age start course. Employment Employment level college enrollment (1 = ; 2 = part-time; 3 = full-time). Income Household income level college enrollment (1 = <25K; 2 = <35K; 3 = <45K; 4 = <55K; 5 = <70K; 6 = <85K; 7 = <100K; 8 = <120K; 9 = >120K). Transfer Number transfer credits start course. GPA GPA start course. GradeCode Letter grade. Level Level course, either Lower Upper. ID Randomly assigned student ID.","code":""},{"path":"/reference/tutoring.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Results from a study examining the effects of tutoring services on course grades. — tutoring","text":"data frame 17 variables.","code":""},{"path":"/reference/unmatched.html","id":null,"dir":"Reference","previous_headings":"","what":"Returns rows from [trips()] that were not matched by [trimatch()]. — unmatched","title":"Returns rows from [trips()] that were not matched by [trimatch()]. — unmatched","text":"function returns subset [trips()] matched [trimatch()]. data frame methods work returned object special `summary` function provided relevant information.","code":""},{"path":"/reference/unmatched.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Returns rows from [trips()] that were not matched by [trimatch()]. — unmatched","text":"","code":"unmatched(tmatch)"},{"path":"/reference/unmatched.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Returns rows from [trips()] that were not matched by [trimatch()]. — unmatched","text":"tmatch results [trimatch()].","code":""},{"path":"/reference/unmatched.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Returns rows from [trips()] that were not matched by [trimatch()]. — unmatched","text":"data frame unmatched rows.","code":""},{"path":"/news/index.html","id":"trimatch-100","dir":"Changelog","previous_headings":"","what":"TriMatch 1.0.0","title":"TriMatch 1.0.0","text":"Fix documentation issue cross referencing functions per CRAN checks.","code":""},{"path":"/news/index.html","id":"trimatch-099","dir":"Changelog","previous_headings":"","what":"TriMatch 0.9.9","title":"TriMatch 0.9.9","text":"CRAN release: 2017-12-05 Fixed issue .data.frame.list cause conflict base function name. new function, data.frame..list, wraps non-exported version .data.frame.list.","code":""},{"path":"/news/index.html","id":"trimatch-098","dir":"Changelog","previous_headings":"","what":"TriMatch 0.9.8","title":"TriMatch 0.9.8","text":"Added tmatch parameter multibalance.plot function limit balance estimates units matched. Added method parameter trips function implemented random forests alternative method calculating propensity scores.","code":""},{"path":"/news/index.html","id":"trimatch-097","dir":"Changelog","previous_headings":"","what":"TriMatch 0.9.7","title":"TriMatch 0.9.7","text":"CRAN release: 2016-02-26 Update new version ggplot2","code":""},{"path":"/news/index.html","id":"trimatch-096","dir":"Changelog","previous_headings":"","what":"TriMatch 0.9.6","title":"TriMatch 0.9.6","text":"CRAN release: 2015-12-15 Fixed bug triangle plot. Exported utility functions visible.","code":""},{"path":"/news/index.html","id":"trimatch-095","dir":"Changelog","previous_headings":"","what":"TriMatch 0.9.5","title":"TriMatch 0.9.5","text":"Updates version 2.0 ggplot2.","code":""},{"path":"/news/index.html","id":"trimatch-094","dir":"Changelog","previous_headings":"","what":"TriMatch 0.9.4","title":"TriMatch 0.9.4","text":"CRAN release: 2015-04-08 Fixes issues pass current CRAN checks.","code":""},{"path":"/news/index.html","id":"trimatch-093","dir":"Changelog","previous_headings":"","what":"TriMatch 0.9.3","title":"TriMatch 0.9.3","text":"Added new one--one--one demo show post process resutls trimatch.","code":""},{"path":"/news/index.html","id":"trimatch-092","dir":"Changelog","previous_headings":"","what":"TriMatch 0.9.2","title":"TriMatch 0.9.2","text":"Fix bug OneToN function return duplicate treatment 2 units M1=1 M2=1.","code":""},{"path":"/news/index.html","id":"trimatch-091","dir":"Changelog","previous_headings":"","what":"TriMatch 0.9.1","title":"TriMatch 0.9.1","text":"CRAN release: 2013-09-20 Fixes pass new warnings R CMD check.","code":""},{"path":"/news/index.html","id":"trimatch-09","dir":"Changelog","previous_headings":"","what":"TriMatch 0.9","title":"TriMatch 0.9","text":"CRAN release: 2013-07-05 Initial version TriMtach package release July 5, 2013. Project hosted Github. information http://jbryer.github.com/TriMatch. See package vignette introduction well demos.","code":""}]
